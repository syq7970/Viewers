)]}'
{"version":3,"sources":["meteor://ðŸ’»app/packages/ohif:servers/both/index.js","meteor://ðŸ’»app/packages/ohif:servers/both/base.js","meteor://ðŸ’»app/packages/ohif:servers/both/collections/currentServer.js","meteor://ðŸ’»app/packages/ohif:servers/both/collections/index.js","meteor://ðŸ’»app/packages/ohif:servers/both/collections/servers.js","meteor://ðŸ’»app/packages/ohif:servers/both/lib/getCurrentServer.js","meteor://ðŸ’»app/packages/ohif:servers/both/lib/index.js","meteor://ðŸ’»app/packages/ohif:servers/both/schema/servers.js","meteor://ðŸ’»app/packages/ohif:servers/client/index.js","meteor://ðŸ’»app/packages/ohif:servers/client/collections/index.js","meteor://ðŸ’»app/packages/ohif:servers/client/collections/subscriptions.js","meteor://ðŸ’»app/packages/ohif:servers/client/components/index.js","meteor://ðŸ’»app/packages/ohif:servers/client/components/serverInformation/index.js","meteor://ðŸ’»app/packages/ohif:servers/client/components/serverInformation/serverInformationDicomWeb/serverInformationDicomWeb.js","meteor://ðŸ’»app/packages/ohif:servers/client/components/serverInformation/serverInformationDimse/serverInformationDimse.js","meteor://ðŸ’»app/packages/ohif:servers/client/components/serverInformation/serverInformationForm/serverInformationForm.js","meteor://ðŸ’»app/packages/ohif:servers/client/components/serverInformation/serverInformationList/serverInformationList.js","meteor://ðŸ’»app/packages/ohif:servers/client/components/serverInformation/serverInformationModal/serverInformationModal.js"],"names":["module","watch","require","OHIF","v","servers","collections","export","CurrentServer","Mongo","Collection","_debugName","currentServer","Servers","getCurrentServer","findOne","serverConfiguration","_id","serverId","DICOMWebRequestOptions","DICOMWebServer","DIMSEPeer","DIMSEServer","UISettings","PrefetchSchema","MouseButtonToolSchema","PublicServerConfig","ServerConfiguration","SimpleSchema","serverNameDefinitions","type","String","label","max","serverTypeDefinitions","allowedValues","valuesLabels","optional","wadoUriRootDefinitions","availableMouseButtonTools","auth","defaultValue","logRequests","Boolean","logResponses","logTiming","name","wadoUriRoot","wadoRoot","imageRendering","qidoRoot","qidoSupportsIncludeField","requestOptions","aeTitle","hostAE","host","regEx","RegEx","WeakDomain","port","Number","min","server","supportsInstanceRetrievalByStudyUid","peers","minCount","studyListFunctionsEnabled","leftSidebarOpen","leftSidebarDragAndDrop","displaySetNavigationLoopOverSeries","displaySetNavigationMultipleViewports","displayEchoUltrasoundWorkflow","autoPositionMeasurementsTextCallOuts","studyListDateFilterNumDays","showStackLoadingProgressBar","cornerstoneRenderer","sortSeriesByIncomingOrder","useMiddleSeriesInstanceAsThumbnail","order","displaySetCount","left","right","middle","verifyEmail","demoUserEnabled","ui","prefetch","defaultMouseButtonTools","dicomWeb","dimse","defaultServiceType","dropCollections","origin","Meteor","subscribe","Template","serverInformationDicomWeb","onRendered","instance","autorun","mode","data","get","currentItem","form","value","ReactiveVar","Tracker","_","serverInformationDimse","onCreated","set","api","extend","newPeer","push","removePeer","peerIndex","splice","afterFlush","dicomSchema","dimseSchema","serverInformationForm","save","validate","formData","call","error","log","resetState","currentSchema","$form","$","first","typeComponent","depend","serverType","serverInformationList","add","edit","window","confirm","use","helpers","isActive","options","sort","find","fetch","serverInformationModal","container","events","event"],"mappings":"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","file":"/packages/ohif_servers.js","sourcesContent":["import './base.js';\nimport './collections';\nimport './lib';\n","import { OHIF } from 'meteor/ohif:core';\n\nOHIF.servers = {\n    collections: {}\n};\n","import { Mongo } from 'meteor/mongo';\nimport { OHIF } from 'meteor/ohif:core';\n\n// CurrentServer is a single document collection to describe which of the Servers is being used\nconst CurrentServer = new Mongo.Collection('currentServer');\nCurrentServer._debugName = 'CurrentServer';\nOHIF.servers.collections.currentServer = CurrentServer;\n\nexport { CurrentServer };\n","import { CurrentServer } from './currentServer.js';\nimport { Servers } from './servers.js';\n\nexport { CurrentServer, Servers };\n","import { Mongo } from 'meteor/mongo';\nimport { OHIF } from 'meteor/ohif:core';\n// import { Servers as ServerSchema } from 'meteor/ohif:servers/both/schema/servers.js';\n\n// Servers describe the DICOM servers configurations\nconst Servers = new Mongo.Collection('servers');\n// TODO: Make the Schema match what we are currently sticking into the Collection\n//Servers.attachSchema(ServerSchema);\nServers._debugName = 'Servers';\nOHIF.servers.collections.servers = Servers;\n\nexport { Servers };\n","import { OHIF } from 'meteor/ohif:core';\nimport { Servers, CurrentServer } from 'meteor/ohif:servers/both/collections';\n\n/**\n * Retrieves the current server configuration used to retrieve studies\n */\nOHIF.servers.getCurrentServer = () => {\n    const currentServer = CurrentServer.findOne();\n\n    if (!currentServer) {\n        return;\n    }\n\n    const serverConfiguration = Servers.findOne({ _id: currentServer.serverId });\n\n    return serverConfiguration;\n};\n","import './getCurrentServer.js';\n","import { SimpleSchema } from 'meteor/aldeed:simple-schema';\n\nconst serverNameDefinitions = {\n    type: String,\n    label: 'Server Name',\n    max: 100\n};\n\nconst serverTypeDefinitions = {\n    type: String,\n    label: 'Server Type',\n    allowedValues: ['dicomWeb', 'dimse'],\n    valuesLabels: ['DICOM Web', 'DIMSE'],\n    optional: true\n};\n\nconst wadoUriRootDefinitions = {\n    type: String,\n    label: 'WADO URI root',\n    max: 1000\n};\n\nconst availableMouseButtonTools = ['wwwc', 'zoom', 'pan', 'stackScroll'];\n\nexport const DICOMWebRequestOptions = new SimpleSchema({\n    auth: {\n        type: String,\n        label: 'Authentication',\n        defaultValue: 'orthanc:orthanc',\n        optional: true\n    },\n    logRequests: {\n        type: Boolean,\n        defaultValue: true,\n        label: 'Requests'\n    },\n    logResponses: {\n        type: Boolean,\n        defaultValue: false,\n        label: 'Responses'\n    },\n    logTiming: {\n        type: Boolean,\n        defaultValue: true,\n        label: 'Timing'\n    }\n});\n\nexport const DICOMWebServer = new SimpleSchema({\n    name: serverNameDefinitions,\n    type: serverTypeDefinitions,\n    wadoUriRoot: wadoUriRootDefinitions,\n    wadoRoot: {\n        type: String,\n        label: 'WADO root',\n        max: 1000\n    },\n    imageRendering: {\n        type: String,\n        label: 'Image rendering',\n        allowedValues: ['wadouri', 'orthanc'],\n        valuesLabels: ['WADO URI', 'ORTHANC']\n    },\n    qidoRoot: {\n        type: String,\n        label: 'QIDO root',\n        max: 1000\n    },\n    qidoSupportsIncludeField: {\n        type: Boolean,\n        label: 'QIDO supports including fields',\n        defaultValue: false\n    },\n    requestOptions: {\n        type: DICOMWebRequestOptions,\n        label: 'Request Options'\n    }\n});\n\nexport const DIMSEPeer = new SimpleSchema({\n    aeTitle: {\n        type: String,\n        label: 'AE Title'\n    },\n    hostAE: {\n        type: String,\n        label: 'AE Host',\n        optional: true\n    },\n    host: {\n        type: String,\n        label: 'Host Domain/IP',\n        regEx: SimpleSchema.RegEx.WeakDomain\n    },\n    port: {\n        type: Number,\n        label: 'Port',\n        min: 1,\n        defaultValue: 11112,\n        max: 65535\n    },\n    default: {\n        type: Boolean,\n        label: 'Default',\n        defaultValue: false\n    },\n    server: {\n        type: Boolean,\n        label: 'Server',\n        defaultValue: false\n    },\n    supportsInstanceRetrievalByStudyUid: {\n        type: Boolean,\n        label: 'Supports instance retrieval by StudyUid',\n        defaultValue: true\n    }\n});\n\nexport const DIMSEServer = new SimpleSchema({\n    name: serverNameDefinitions,\n    type: serverTypeDefinitions,\n    wadoUriRoot: wadoUriRootDefinitions,\n    requestOptions: {\n        type: DICOMWebRequestOptions,\n        label: 'Request Options'\n    },\n    peers: {\n        type: [DIMSEPeer],\n        label: 'Peer List',\n        minCount: 1\n    }\n});\n\nexport const UISettings = new SimpleSchema({\n    studyListFunctionsEnabled: {\n        type: Boolean,\n        label: 'Study List Functions Enabled?',\n        defaultValue: true\n    },\n    leftSidebarOpen: {\n        type: Boolean,\n        label: 'Left sidebar open by default?',\n        defaultValue: false\n    },\n    leftSidebarDragAndDrop: {\n        type: Boolean,\n        label: 'Left sidebar allows thumbnail drag and drop. If false, images will be loaded on single click.',\n        defaultValue: true\n    },\n    displaySetNavigationLoopOverSeries: {\n        type: Boolean,\n        label: 'The UP/DOWN display set navigation buttons will start over when reach the last display set in viewport?',\n        defaultValue: true\n    },\n    displaySetNavigationMultipleViewports: {\n        type: Boolean,\n        label: 'The UP/DOWN display set navigation buttons will iterate over all the viewports at once?',\n        defaultValue: false\n    },\n    displayEchoUltrasoundWorkflow: {\n        type: Boolean,\n        label: 'Enable cine dialog enhancements for multiframe images.',\n        defaultValue: false\n    },\n    autoPositionMeasurementsTextCallOuts: {\n        type: String,\n        label: 'Auto position text call-outs for measurements when creating them.',\n        defaultValue: 'TRBL'\n    },\n    studyListDateFilterNumDays: {\n        type: Number,\n        label: 'Number of days to be used on Study List date filter',\n        min: 1\n    },\n    showStackLoadingProgressBar: {\n        type: Boolean,\n        label: 'Show a progress bar closest to the thumbnail showing how much the stack has loaded',\n        defaultValue: true\n    },\n    cornerstoneRenderer: {\n        type: String,\n        label: 'Cornerstone default image renderer',\n        defaultValue: 'webgl'\n    },\n    sortSeriesByIncomingOrder: {\n        type: Boolean,\n        label: 'Define if the series\\' images shall be sorted by incoming order. Sort by Instance Number by default.',\n        defaultValue: false\n    },\n    useMiddleSeriesInstanceAsThumbnail: {\n        type: Boolean,\n        label: 'Define if the middle instance of a series will be used as thumbnail. If not, the first instance will be used.',\n        defaultValue: true\n    }\n});\n\nexport const PrefetchSchema = new SimpleSchema({\n    order: {\n        type: String,\n        label: 'Prefetch Order',\n        allowedValues: ['topdown', 'downward', 'closest'],\n        optional: false\n    },\n    displaySetCount: {\n        type: Number,\n        label: 'Display Set Count',\n        min: 1,\n        defaultValue: 1\n    }\n});\n\nexport const MouseButtonToolSchema = new SimpleSchema({\n    left: {\n        type: String,\n        label: 'Left Mouse Button',\n        allowedValues: availableMouseButtonTools,\n        optional: true\n    },\n    right: {\n        type: String,\n        label: 'Right Mouse Button',\n        allowedValues: availableMouseButtonTools,\n        optional: true\n    },\n    middle: {\n        type: String,\n        label: 'Middle Mouse Button',\n        allowedValues: availableMouseButtonTools,\n        optional: true\n    }\n});\n\nexport const PublicServerConfig = new SimpleSchema({\n    verifyEmail: {\n        type: Boolean,\n        label: 'Verify Email',\n        defaultValue: false\n    },\n    demoUserEnabled: {\n        type: Boolean,\n        label: 'Creates demo user on startup and show TestDrive button',\n        defaultValue: true\n    },\n    ui: {\n        type: UISettings,\n        label: 'UI Settings'\n    },\n    prefetch: {\n        type: PrefetchSchema,\n        label: 'Prefetch settings'\n    },\n    defaultMouseButtonTools: {\n        type: MouseButtonToolSchema,\n        label: 'Default Mouse Button Tools'\n    }\n});\n\nexport const Servers = new SimpleSchema({\n    dicomWeb: {\n        type: [DICOMWebServer],\n        label: 'DICOMWeb Servers',\n        optional: true\n    },\n    dimse: {\n        type: [DIMSEServer],\n        label: 'DIMSE Servers',\n        optional: true\n    }\n});\n\nexport const ServerConfiguration = new SimpleSchema({\n    servers: {\n        type: Servers,\n        label: 'Servers'\n    },\n    defaultServiceType: {\n        type: String,\n        label: 'Default Service Type',\n        defaultValue: 'dicomWeb'\n    },\n    dropCollections: {\n        type: Boolean,\n        label: 'Drop database collections',\n        defaultValue: false\n    },\n    public: {\n        type: PublicServerConfig,\n        label: 'Public Server Configuration',\n    },\n    origin: {\n        type: String,\n        label: 'Origin',\n        optional: true\n    }\n});\n","import './collections';\nimport './components';\n","import './subscriptions.js';\n","import { Meteor } from 'meteor/meteor';\n\nMeteor.subscribe('servers');\nMeteor.subscribe('currentServer');\n","import './serverInformation';\n","import './serverInformationDicomWeb/serverInformationDicomWeb.html';\nimport './serverInformationDicomWeb/serverInformationDicomWeb.js';\n\nimport './serverInformationDimse/serverInformationDimse.html';\nimport './serverInformationDimse/serverInformationDimse.js';\n\nimport './serverInformationForm/serverInformationForm.html';\nimport './serverInformationForm/serverInformationForm.js';\n\nimport './serverInformationList/serverInformationList.html';\nimport './serverInformationList/serverInformationList.js';\n\nimport './serverInformationModal/serverInformationModal.html';\nimport './serverInformationModal/serverInformationModal.styl';\nimport './serverInformationModal/serverInformationModal.js';\n","import { Template } from 'meteor/templating';\n\nTemplate.serverInformationDicomWeb.onRendered(() => {\n    const instance = Template.instance();\n    instance.autorun(function() {\n        const mode = instance.data.mode.get();\n        if (mode === 'edit') {\n            const data = instance.data.currentItem.get();\n            instance.data.form.value(data);\n        }\n    });\n});\n","import { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\nimport { Tracker } from 'meteor/tracker';\nimport { _ } from 'meteor/underscore';\n\nTemplate.serverInformationDimse.onCreated(() => {\n    const instance = Template.instance();\n    instance.peers = new ReactiveVar([]);\n    instance.autorun(() => {\n        const currentItem = instance.data.currentItem.get();\n        if (currentItem) {\n            instance.peers.set(currentItem.peers || []);\n        }\n    });\n    const api = instance.data.api;\n    _.extend(api, {\n        newPeer() {\n            const peers = instance.peers.get();\n            peers.push({});\n            instance.peers.set(peers);\n        },\n\n        removePeer(peerIndex) {\n            const peers = instance.peers.get();\n            peers.splice(peerIndex, 1);\n            instance.peers.set(peers);\n\n            const data = instance.data.currentItem.get();\n            data.peers = peers;\n            Tracker.afterFlush(() => instance.data.form.value(data));\n        }\n    });\n});\n\nTemplate.serverInformationDimse.onRendered(() => {\n    const instance = Template.instance();\n    instance.autorun(() => {\n        const mode = instance.data.mode.get();\n        if (mode === 'edit') {\n            const data = instance.data.currentItem.get();\n            instance.data.form.value(data);\n        }\n    });\n});\n","import { Meteor } from 'meteor/meteor';\nimport { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\nimport { OHIF } from 'meteor/ohif:core';\nimport { DICOMWebServer as dicomSchema } from 'meteor/ohif:servers/both/schema/servers.js';\nimport { DIMSEServer as dimseSchema } from 'meteor/ohif:servers/both/schema/servers.js';\n\nTemplate.serverInformationForm.onCreated(() => {\n    const instance = Template.instance();\n\n    instance.data.api = {\n        save() {\n            // Stop here if the form validation fails\n            if (!instance.data.form.validate()) {\n                return;\n            }\n\n            // Get the current form data\n            const formData = instance.data.form.value();\n\n            // Call the save method\n            Meteor.call('serverSave', formData, function(error) {\n                if (error) {\n                    // TODO: check for errors: not-authorized, data-write\n                    OHIF.log.error(error);\n                }\n\n                instance.data.resetState();\n            });\n        }\n    };\n\n    instance.currentSchema = new ReactiveVar(dicomSchema);\n});\n\nTemplate.serverInformationForm.onRendered(() => {\n    const instance = Template.instance();\n\n    instance.data.$form = instance.$('form').first();\n    instance.data.form = instance.data.$form.data('component');\n\n    // Handle the server type\n    instance.autorun(() => {\n        // Get the server type component\n        const typeComponent = instance.$('[data-key=type] :input').data('component');\n\n        // Run this computation every time the user change the server type\n        typeComponent.depend();\n\n        // Get the current server type value\n        const type = typeComponent.value();\n\n        // Set the serverType reactive value\n        instance.data.serverType.set(type);\n\n        // Change the schema based on the selected server type\n        if (type === 'dimse') {\n            instance.currentSchema.set(dimseSchema);\n        } else {\n            instance.currentSchema.set(dicomSchema);\n        }\n    });\n\n    // Handle the form mode (edit or add)\n    instance.autorun(() => {\n        const mode = instance.data.mode.get();\n\n        // Check if it is on edit mode and load the saved data\n        if (mode === 'edit') {\n            const data = instance.data.currentItem.get();\n            instance.data.form.value(data);\n        }\n    });\n});\n","import { Meteor } from 'meteor/meteor';\nimport { Template } from 'meteor/templating';\nimport { Servers, CurrentServer } from 'meteor/ohif:servers/both/collections';\n\nTemplate.serverInformationList.onCreated(() => {\n    const instance = Template.instance();\n\n    instance.api = {\n        add: () => instance.data.mode.set('create'),\n\n        edit(server) {\n            instance.data.currentItem.set(server);\n            instance.data.mode.set('edit');\n        },\n\n        delete(server) {\n            // TODO: Replace this for confirmation dialog after LT-refactor is merged back to master\n            if (!window.confirm('Are you sure you want to remove this peer?')) {\n                return;\n            }\n\n            Meteor.call('serverRemove', server._id, error => {\n                // TODO: check for errors: data-write\n            });\n        },\n\n        use(server) {\n            Meteor.call('serverSetActive', server._id, error => {\n                // TODO: check for errors: data-write\n            });\n        }\n    };\n});\n\nTemplate.serverInformationList.helpers({\n    isActive: function(server) {\n        const currentServer = CurrentServer.findOne();\n        if (!currentServer) {\n            return;\n        }\n\n        return server._id === currentServer.serverId;\n    },\n    servers: function() {\n        const options = {\n            sort: {\n                origin: -1,\n                type: 1,\n                name: 1\n            }\n        };\n        return Servers.find({}, options).fetch();\n    }\n});\n","import { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nTemplate.serverInformationModal.onCreated(function() {\n    const instance = Template.instance();\n    instance.container = {\n        mode: new ReactiveVar('list'),\n        serverType: new ReactiveVar(null),\n        currentItem: new ReactiveVar(null),\n        $form: null,\n        resetState: function() {\n            instance.container.mode.set('list');\n            instance.container.serverType.set(null);\n            instance.container.currentItem.set(null);\n        }\n    };\n});\n\nTemplate.serverInformationModal.events({\n    'click .js-back'(event, instance) {\n        instance.container.resetState();\n    }\n});\n"]}