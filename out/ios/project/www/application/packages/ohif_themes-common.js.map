)]}'
{"version":3,"sources":["meteor://ðŸ’»app/packages/ohif:themes-common/client/index.js","meteor://ðŸ’»app/packages/ohif:themes-common/client/components/index.js","meteor://ðŸ’»app/packages/ohif:themes-common/client/components/themeSelectorModal/themeSelectorModal.js"],"names":["module","watch","require","Template","v","ReactiveDict","DEFAULT_THEME","getCurrentTheme","sessionStorage","getItem","setActualTheme","setItem","theme","addThemeToBody","document","body","classList","add","removeThemesFromBody","i","length","search","remove","themeSelectorModal","onCreated","instance","currentTheme","state","set","container","previewTheme","applyTheme","get","resetState","promise","data","then","catch","helpers","themes","ucFirst","text","charAt","toUpperCase","slice","printClassIfSelected","events","event","currentTarget","dataset"],"mappings":"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","file":"/packages/ohif_themes-common.js","sourcesContent":["import './components';\n","import './themeSelectorModal/themeSelectorModal.html';\nimport './themeSelectorModal/themeSelectorModal.styl';\nimport './themeSelectorModal/themeSelectorModal.js';\n","import { Template } from 'meteor/templating';\nimport { ReactiveDict } from 'meteor/reactive-dict';\n\nconst DEFAULT_THEME = 'tide';\n\nconst getCurrentTheme = () => sessionStorage.getItem('theme');\n\nconst setActualTheme = theme => sessionStorage.setItem('theme', theme);\n\nconst addThemeToBody = theme => document.body.classList.add('theme-' + theme);\n\nconst removeThemesFromBody = () => {\n    const classList = document.body.classList;\n\n    for (let i = classList.length - 1; i >= 0; i--) {\n        if (classList[i].search('theme-') !== -1) {\n            document.body.classList.remove(classList[i]);\n        }\n    }\n};\n\nTemplate.themeSelectorModal.onCreated(() => {\n    const instance = Template.instance();\n    let currentTheme = getCurrentTheme();\n    if (!currentTheme) {\n        currentTheme = DEFAULT_THEME;\n        setActualTheme(currentTheme);\n    }\n\n    instance.state = new ReactiveDict();\n    instance.state.set('selectedTheme', currentTheme);\n\n    addThemeToBody(currentTheme);\n\n    instance.container = {\n        currentTheme,\n\n        previewTheme(theme, state) {\n            state.set('selectedTheme', theme);\n            removeThemesFromBody();\n            addThemeToBody(theme);\n        },\n\n        applyTheme(state) {\n            setActualTheme(state.get('selectedTheme'));\n        },\n\n        resetState(state) {\n            const theme = getCurrentTheme();\n\n            state.set('selectedTheme', theme);\n            removeThemesFromBody();\n            addThemeToBody(theme);\n        }\n    };\n\n    const { promise } = instance.data;\n    promise.then(() => instance.container.applyTheme(instance.state));\n    promise.catch(() => instance.container.resetState(instance.state));\n});\n\nTemplate.themeSelectorModal.helpers({\n    themes: [ 'crickets', 'honeycomb', 'mint', 'overcast', 'quartz', 'tide', 'tigerlily' ],\n\n    ucFirst(text) {\n        return text.charAt(0).toUpperCase() + text.slice(1);\n    },\n\n    printClassIfSelected(theme) {\n        const instance = Template.instance();\n\n        return theme === instance.state.get('selectedTheme') ? 'selected' : '';\n    }\n});\n\nTemplate.themeSelectorModal.events({\n    'click .preview-theme'(event, instance) {\n        instance.container.previewTheme(event.currentTarget.dataset.theme, instance.state);\n    }\n});\n"]}